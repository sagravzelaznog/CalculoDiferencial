type User @table {
  username: String!
  createdAt: Timestamp!
  email: String
  lastLogin: Timestamp
}

type Topic @table {
  name: String!
  description: String!
  order: Int!
  imageUrl: String
}

type Lesson @table {
  topic: Topic
  title: String!
  content: String!
  order: Int!
  videoUrl: String
  exampleCode: String
}

type Problem @table {
  lesson: Lesson
  question: String!
  correctAnswer: String!
  difficulty: String!
  explanation: String
  hint: String
}

type Formula @table {
  name: String!
  formulaText: String!
  category: String!
  description: String
  example: String
}

type UserProgress @table(key: ["user", "topic"]) {
  user: User!
  topic: Topic!
  isCompleted: Boolean!
  lastAccessed: Timestamp!
  score: Int
}

type SavedProblem @table(key: ["user", "problem"]) {
  user: User!
  problem: Problem!
  savedAt: Timestamp!
  notes: String
}